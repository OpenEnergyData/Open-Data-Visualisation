<!doctype html>
<html>
	<head>
	   <style>
           
	   .municipalities {
	       fill: #ccc;
	       stroke: #000; //#fff;
           stroke-width: 0.5;
	   }
           
	   </style>
    <meta charset="utf-8"/>
	</head>
	<body>
		<script src="d3.min.js" charset="utf-8"></script>
		<script src="https://d3js.org/d3-array.v1.min.js"></script>
		<script src="https://d3js.org/d3-geo.v1.min.js"></script>
		<script src="https://d3js.org/d3-selection.v1.min.js"></script>
		<script src="https://d3js.org/d3-collection.v1.min.js"></script>
		<script src="https://d3js.org/d3-dispatch.v1.min.js"></script>
		<script src="https://d3js.org/d3-request.v1.min.js"></script>
		<script src="http://d3js.org/topojson.v1.min.js"></script>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        
<script>
	
    var dataset;
	
	var width = 960,
		height = 500;

	var svg = d3.select("body").append("svg")
		.attr("width", width)
		.attr("height", height);

	
    //load data files
	d3.queue()
		.defer(d3.json, "ch_withoutmunic.json")
		.await(ready)
		
function ready (error, data){

	if(error){console.log("Error: "+ error)};
			
    dataset = data;
    
	
	var Gemeinden = topojson.feature(data, data.objects.municipalities).features;

    
    var path = d3.geoPath()
		.projection(null);
	
	svg.append("g")
		.attr("class", "municipalities")
		.selectAll("path")
		.data(Gemeinden)
		.enter().append("path")
		.attr("id",function(d){return d.id})
        .style("fill", "grey")    
		.attr("d", path);
};
 
</script>
	
	</body>
    
</html>